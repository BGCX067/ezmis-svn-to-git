<html><head><title>/home/gaudenz/projects/mxgraph/build/mxgraph/javascript/src/src/js/util/mxXmlRequest.js</title><link rel="stylesheet" type="text/css" href="../../styles/main.css"><script language=JavaScript src="../../javascript/main.js"></script></head><body class="FramedContentPage" onLoad="NDOnLoad()"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.4 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CFile"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="mxXmlRequest.js"></a>mxXmlRequest.js</h1><div class=CBody><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#mxXmlRequest.js" >mxXmlRequest.js</a></td><td class=SDescription></td></tr><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#mxXmlRequest" id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">mxXmlRequest</a></td><td class=SDescription>Constructs an XML HTTP request.</td></tr><tr class="SGroup"><td class=SEntry><a href="#Variables" >Variables</a></td><td class=SDescription></td></tr><tr class="SVariable SIndent1 SMarked"><td class=SEntry><a href="#url" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">url</a></td><td class=SDescription>Holds the target URL of the request.</td></tr><tr class="SVariable SIndent1"><td class=SEntry><a href="#params" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">params</a></td><td class=SDescription>Holds the form encoded data for the POST request.</td></tr><tr class="SVariable SIndent1 SMarked"><td class=SEntry><a href="#method" id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">method</a></td><td class=SDescription>Specifies the request method. </td></tr><tr class="SVariable SIndent1"><td class=SEntry><a href="#async" id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">async</a></td><td class=SDescription>Boolean indicating if the request is asynchronous.</td></tr><tr class="SVariable SIndent1 SMarked"><td class=SEntry><a href="#username" id=link6 onMouseOver="ShowTip(event, 'tt6', 'link6')" onMouseOut="HideTip('tt6')">username</a></td><td class=SDescription>Specifies the username to be used for authentication.</td></tr><tr class="SVariable SIndent1"><td class=SEntry><a href="#password" id=link7 onMouseOver="ShowTip(event, 'tt7', 'link7')" onMouseOut="HideTip('tt7')">password</a></td><td class=SDescription>Specifies the password to be used for authentication.</td></tr><tr class="SVariable SIndent1 SMarked"><td class=SEntry><a href="#request" id=link8 onMouseOver="ShowTip(event, 'tt8', 'link8')" onMouseOut="HideTip('tt8')">request</a></td><td class=SDescription>Holds the inner, browser-specific request object.</td></tr><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#isReady" id=link9 onMouseOver="ShowTip(event, 'tt9', 'link9')" onMouseOut="HideTip('tt9')">isReady</a></td><td class=SDescription>Returns true if the response is ready.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#getDocumentElement" id=link10 onMouseOver="ShowTip(event, 'tt10', 'link10')" onMouseOut="HideTip('tt10')">getDocumentElement</a></td><td class=SDescription>Returns the document element of the response XML document.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#getXml" id=link11 onMouseOver="ShowTip(event, 'tt11', 'link11')" onMouseOut="HideTip('tt11')">getXml</a></td><td class=SDescription>Returns the response as an XML document. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#getText" id=link12 onMouseOver="ShowTip(event, 'tt12', 'link12')" onMouseOut="HideTip('tt12')">getText</a></td><td class=SDescription>Returns the response as a string.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#getStatus" id=link13 onMouseOver="ShowTip(event, 'tt13', 'link13')" onMouseOut="HideTip('tt13')">getStatus</a></td><td class=SDescription>Returns the status as a number, eg. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#create" id=link14 onMouseOver="ShowTip(event, 'tt14', 'link14')" onMouseOut="HideTip('tt14')">create</a></td><td class=SDescription>Creates and returns the inner <a href="#request" class=LVariable id=link15 onMouseOver="ShowTip(event, 'tt8', 'link15')" onMouseOut="HideTip('tt8')">request</a> object.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#send" id=link16 onMouseOver="ShowTip(event, 'tt15', 'link16')" onMouseOut="HideTip('tt15')">send</a></td><td class=SDescription>Send the <a href="#request" class=LVariable id=link17 onMouseOver="ShowTip(event, 'tt8', 'link17')" onMouseOut="HideTip('tt8')">request</a> to the target URL using the specified functions to process the response asychronously.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#setRequestHeaders" id=link18 onMouseOver="ShowTip(event, 'tt16', 'link18')" onMouseOut="HideTip('tt16')">setRequestHeaders</a></td><td class=SDescription>Sets the headers for the given request and parameters. </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#simulate" id=link19 onMouseOver="ShowTip(event, 'tt17', 'link19')" onMouseOut="HideTip('tt17')">simulate</a></td><td class=SDescription>Creates and posts a request to the given target URL using a dynamically created form inside the given document.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="mxXmlRequest"></a>mxXmlRequest</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function mxXmlRequest(</td><td class=PParameter nowrap>url,</td></tr><tr><td></td><td class=PParameter nowrap>params,</td></tr><tr><td></td><td class=PParameter nowrap>method,</td></tr><tr><td></td><td class=PParameter nowrap>async,</td></tr><tr><td></td><td class=PParameter nowrap>username,</td></tr><tr><td></td><td class=PParameter nowrap>password</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Constructs an XML HTTP request.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>url</td><td class=CDLDescription>Target URL of the request.</td></tr><tr><td class=CDLEntry>params</td><td class=CDLDescription>Form encoded parameters to send with a POST request.</td></tr><tr><td class=CDLEntry>method</td><td class=CDLDescription>String that specifies the request method.&nbsp; Possible values are POST and GET.&nbsp; Default is POST.</td></tr><tr><td class=CDLEntry>async</td><td class=CDLDescription>Boolean specifying if an asynchronous request should be used.&nbsp; Default is true.</td></tr><tr><td class=CDLEntry>username</td><td class=CDLDescription>String specifying the username to be used for the request.</td></tr><tr><td class=CDLEntry>password</td><td class=CDLDescription>String specifying the password to be used for the request.</td></tr></table></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Variables"></a>Variables</h3></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="url"></a>url</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.url</td></tr></table></blockquote><p>Holds the target URL of the request.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="params"></a>params</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.params</td></tr></table></blockquote><p>Holds the form encoded data for the POST request.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="method"></a>method</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.method</td></tr></table></blockquote><p>Specifies the request method.&nbsp; Possible values are POST and GET.&nbsp; Default is POST.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="async"></a>async</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.async</td></tr></table></blockquote><p>Boolean indicating if the request is asynchronous.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="username"></a>username</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.username</td></tr></table></blockquote><p>Specifies the username to be used for authentication.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="password"></a>password</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.password</td></tr></table></blockquote><p>Specifies the password to be used for authentication.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="request"></a>request</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.request</td></tr></table></blockquote><p>Holds the inner, browser-specific request object.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="isReady"></a>isReady</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.isReady = function()</td></tr></table></blockquote><p>Returns true if the response is ready.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="getDocumentElement"></a>getDocumentElement</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.getDocumentElement = function()</td></tr></table></blockquote><p>Returns the document element of the response XML document.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="getXml"></a>getXml</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.getXml = function()</td></tr></table></blockquote><p>Returns the response as an XML document.&nbsp; Use <a href="#getDocumentElement" class=LFunction id=link20 onMouseOver="ShowTip(event, 'tt10', 'link20')" onMouseOut="HideTip('tt10')">getDocumentElement</a> to get the document element of the XML document.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="getText"></a>getText</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.getText = function()</td></tr></table></blockquote><p>Returns the response as a string.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="getStatus"></a>getStatus</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.getStatus = function()</td></tr></table></blockquote><p>Returns the status as a number, eg.&nbsp; 404 for &ldquo;Not found&rdquo; or 200 for &ldquo;OK&rdquo;.&nbsp; Note: The NS_ERROR_NOT_AVAILABLE for invalid responses cannot be cought.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="create"></a>create</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.create = function()</td></tr></table></blockquote><p>Creates and returns the inner <a href="#request" class=LVariable id=link21 onMouseOver="ShowTip(event, 'tt8', 'link21')" onMouseOut="HideTip('tt8')">request</a> object.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="send"></a>send</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>mxXmlRequest.prototype.send = function(</td><td class=PParameter nowrap>onload,</td></tr><tr><td></td><td class=PParameter nowrap>onerror</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Send the <a href="#request" class=LVariable id=link22 onMouseOver="ShowTip(event, 'tt8', 'link22')" onMouseOut="HideTip('tt8')">request</a> to the target URL using the specified functions to process the response asychronously.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>onload</td><td class=CDLDescription>Function to be invoked if a successful response was received.</td></tr><tr><td class=CDLEntry>onerror</td><td class=CDLDescription>Function to be called on any error.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="setRequestHeaders"></a>setRequestHeaders</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>mxXmlRequest.prototype.setRequestHeaders = function(</td><td class=PParameter nowrap>request,</td></tr><tr><td></td><td class=PParameter nowrap>params</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Sets the headers for the given request and parameters.&nbsp; This sets the content-type to application/x-www-form-urlencoded if any params exist.</p><h4 class=CHeading>Example</h4><blockquote><pre>request.setRequestHeaders = function(request, params)
{
  if (params != null)
  {
    request.setRequestHeader('Content-Type',
            'multipart/form-data');
    request.setRequestHeader('Content-Length',
            params.length);
  }
};</pre></blockquote><p>Use the code above before calling <a href="#send" class=LFunction id=link23 onMouseOver="ShowTip(event, 'tt15', 'link23')" onMouseOut="HideTip('tt15')">send</a> if you require a multipart/form-data request.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="simulate"></a>simulate</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>mxXmlRequest.prototype.simulate = function(</td><td class=PParameter nowrap>doc,</td></tr><tr><td></td><td class=PParameter nowrap>target</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Creates and posts a request to the given target URL using a dynamically created form inside the given document.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>docs</td><td class=CDLDescription>Document that contains the form element.</td></tr><tr><td class=CDLEntry>target</td><td class=CDLDescription>Target URL to send the form to.</td></tr></table></div></div></div>

</div><!--Content-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function mxXmlRequest(</td><td class=PParameter nowrap>url,</td></tr><tr><td></td><td class=PParameter nowrap>params,</td></tr><tr><td></td><td class=PParameter nowrap>method,</td></tr><tr><td></td><td class=PParameter nowrap>async,</td></tr><tr><td></td><td class=PParameter nowrap>username,</td></tr><tr><td></td><td class=PParameter nowrap>password</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Constructs an XML HTTP request.</div></div><div class=CToolTip id="tt2"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.url</td></tr></table></blockquote>Holds the target URL of the request.</div></div><div class=CToolTip id="tt3"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.params</td></tr></table></blockquote>Holds the form encoded data for the POST request.</div></div><div class=CToolTip id="tt4"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.method</td></tr></table></blockquote>Specifies the request method. </div></div><div class=CToolTip id="tt5"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.async</td></tr></table></blockquote>Boolean indicating if the request is asynchronous.</div></div><div class=CToolTip id="tt6"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.username</td></tr></table></blockquote>Specifies the username to be used for authentication.</div></div><div class=CToolTip id="tt7"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.password</td></tr></table></blockquote>Specifies the password to be used for authentication.</div></div><div class=CToolTip id="tt8"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.request</td></tr></table></blockquote>Holds the inner, browser-specific request object.</div></div><div class=CToolTip id="tt9"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.isReady = function()</td></tr></table></blockquote>Returns true if the response is ready.</div></div><div class=CToolTip id="tt10"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.getDocumentElement = function()</td></tr></table></blockquote>Returns the document element of the response XML document.</div></div><div class=CToolTip id="tt11"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.getXml = function()</td></tr></table></blockquote>Returns the response as an XML document. </div></div><div class=CToolTip id="tt12"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.getText = function()</td></tr></table></blockquote>Returns the response as a string.</div></div><div class=CToolTip id="tt13"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.getStatus = function()</td></tr></table></blockquote>Returns the status as a number, eg. </div></div><div class=CToolTip id="tt14"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxXmlRequest.prototype.create = function()</td></tr></table></blockquote>Creates and returns the inner request object.</div></div><div class=CToolTip id="tt15"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>mxXmlRequest.prototype.send = function(</td><td class=PParameter nowrap>onload,</td></tr><tr><td></td><td class=PParameter nowrap>onerror</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Send the request to the target URL using the specified functions to process the response asychronously.</div></div><div class=CToolTip id="tt16"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>mxXmlRequest.prototype.setRequestHeaders = function(</td><td class=PParameter nowrap>request,</td></tr><tr><td></td><td class=PParameter nowrap>params</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Sets the headers for the given request and parameters. </div></div><div class=CToolTip id="tt17"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>mxXmlRequest.prototype.simulate = function(</td><td class=PParameter nowrap>doc,</td></tr><tr><td></td><td class=PParameter nowrap>target</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Creates and posts a request to the given target URL using a dynamically created form inside the given document.</div></div><!--END_ND_TOOLTIPS-->

<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>