<html><head><title>/home/gaudenz/projects/mxgraph/build/mxgraph/javascript/src/src/js/editor/mxDefaultPopupMenu.js</title><link rel="stylesheet" type="text/css" href="../../styles/main.css"><script language=JavaScript src="../../javascript/main.js"></script></head><body class="FramedContentPage" onLoad="NDOnLoad()"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.4 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CFile"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="mxDefaultPopupMenu.js"></a>mxDefaultPopupMenu.js</h1><div class=CBody><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#mxDefaultPopupMenu.js" >mxDefaultPopupMenu.js</a></td><td class=SDescription></td></tr><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#mxDefaultPopupMenu" id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">mxDefaultPopupMenu</a></td><td class=SDescription>Constructs a new popupmenu-factory based on given configuration.</td></tr><tr class="SGroup"><td class=SEntry><a href="#Variables" >Variables</a></td><td class=SDescription></td></tr><tr class="SVariable SIndent1 SMarked"><td class=SEntry><a href="#config" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">config</a></td><td class=SDescription>XML node used as the description of new menu items. </td></tr><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#createMenu" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">createMenu</a></td><td class=SDescription>This function is called from <a href="mxEditor-js.html#mxEditor" class=LFunction id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">mxEditor</a> to add items to the given menu based on <a href="#config" class=LVariable id=link5 onMouseOver="ShowTip(event, 'tt2', 'link5')" onMouseOut="HideTip('tt2')">config</a>. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#addItems" id=link6 onMouseOver="ShowTip(event, 'tt5', 'link6')" onMouseOut="HideTip('tt5')">addItems</a></td><td class=SDescription>Recursively adds the given items and all of its children into the given menu.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#addAction" id=link7 onMouseOver="ShowTip(event, 'tt6', 'link7')" onMouseOut="HideTip('tt6')">addAction</a></td><td class=SDescription>Helper method to bind an action to a new menu item.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#createConditions" id=link8 onMouseOver="ShowTip(event, 'tt7', 'link8')" onMouseOut="HideTip('tt7')">createConditions</a></td><td class=SDescription>Evaluates the default conditions for the given context.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="mxDefaultPopupMenu"></a>mxDefaultPopupMenu</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function mxDefaultPopupMenu(</td><td class=PParameter nowrap>config</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Constructs a new popupmenu-factory based on given configuration.</p><h4 class=CHeading>Paramaters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>config</td><td class=CDLDescription>XML node that contains the configuration data.</td></tr></table></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Variables"></a>Variables</h3></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="config"></a>config</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxDefaultPopupMenu.prototype.config</td></tr></table></blockquote><p>XML node used as the description of new menu items.&nbsp; This node is used in <a href="#createMenu" class=LFunction id=link9 onMouseOver="ShowTip(event, 'tt3', 'link9')" onMouseOut="HideTip('tt3')">createMenu</a> to dynamically create the menu items if their respective conditions evaluate to true for the given arguments.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="createMenu"></a>createMenu</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>mxDefaultPopupMenu.prototype.createMenu = function(</td><td class=PParameter nowrap>editor,</td></tr><tr><td></td><td class=PParameter nowrap>menu,</td></tr><tr><td></td><td class=PParameter nowrap>cell,</td></tr><tr><td></td><td class=PParameter nowrap>evt</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>This function is called from <a href="mxEditor-js.html#mxEditor" class=LFunction id=link10 onMouseOver="ShowTip(event, 'tt4', 'link10')" onMouseOut="HideTip('tt4')">mxEditor</a> to add items to the given menu based on <a href="#config" class=LVariable id=link11 onMouseOver="ShowTip(event, 'tt2', 'link11')" onMouseOut="HideTip('tt2')">config</a>.&nbsp; The config is a sequence of the following nodes and attributes.</p><h4 class=CHeading>Child Nodes</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>add</td><td class=CDLDescription>Adds a new menu item.&nbsp; See below for attributes.</td></tr><tr><td class=CDLEntry>separator</td><td class=CDLDescription>Adds a separator.&nbsp; No attributes.</td></tr><tr><td class=CDLEntry>condition</td><td class=CDLDescription>Adds a custom condition.&nbsp; Name attribute.</td></tr></table><p>The add-node may have a child node that defines a function to be invoked before the action is executed (or instead of an action to be executed).</p><h4 class=CHeading>Attributes</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>as</td><td class=CDLDescription>Resource key for the label (needs entry in property file).</td></tr><tr><td class=CDLEntry>action</td><td class=CDLDescription>Name of the action to execute in enclosing editor.</td></tr><tr><td class=CDLEntry>icon</td><td class=CDLDescription>Optional icon (relative/absolute URL).</td></tr><tr><td class=CDLEntry>if</td><td class=CDLDescription>Optional name of condition that must be true(see below).</td></tr><tr><td class=CDLEntry>name</td><td class=CDLDescription>Name of custom condition.&nbsp; Only for condition nodes.</td></tr></table><h4 class=CHeading>Conditions</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>nocell</td><td class=CDLDescription>No cell under the mouse.</td></tr><tr><td class=CDLEntry>ncells</td><td class=CDLDescription>More than one cell selected.</td></tr><tr><td class=CDLEntry>notRoot</td><td class=CDLDescription>Drilling position is other than home.</td></tr><tr><td class=CDLEntry>cell</td><td class=CDLDescription>Cell under the mouse.</td></tr><tr><td class=CDLEntry>notEmpty</td><td class=CDLDescription>Exactly one cell with children under mouse.</td></tr><tr><td class=CDLEntry>expandable</td><td class=CDLDescription>Exactly one expandable cell under mouse.</td></tr><tr><td class=CDLEntry>collapsable</td><td class=CDLDescription>Exactly one collapsable cell under mouse.</td></tr><tr><td class=CDLEntry>validRoot</td><td class=CDLDescription>Exactly one cell which is a possible root under mouse.</td></tr><tr><td class=CDLEntry>swimlane</td><td class=CDLDescription>Exactly one cell which is a swimlane under mouse.</td></tr></table><h4 class=CHeading>Example</h4><h4 class=CHeading>To add a new item for a given action to the popupmenu</h4><blockquote><pre>&lt;mxDefaultPopupMenu as=&quot;popupHandler&quot;&gt;
  &lt;add as=&quot;delete&quot; action=&quot;delete&quot; icon=&quot;images/delete.gif&quot; if=&quot;cell&quot;/&gt;
&lt;/mxDefaultPopupMenu&gt;</pre></blockquote><h4 class=CHeading>To add a new item for a custom function</h4><blockquote><pre>&lt;mxDefaultPopupMenu as=&quot;popupHandler&quot;&gt;
  &lt;add as=&quot;action1&quot;&gt;&lt;![CDATA[
     function (editor, cell)
     {
         editor.execute('action1', cell, 'myArg');
     }
  ]]&gt;&lt;/add&gt;
&lt;/mxDefaultPopupMenu&gt;</pre></blockquote><p>The above example invokes action1 with an additional third argument via the editor instance.&nbsp; The third argument is passed to the function that defines action1.&nbsp; If the add-node has no action-attribute, then only the function defined in the text content is executed, otherwise first the function and then the action defined in the action-attribute is executed.</p><h4 class=CHeading>Custom Conditions</h4><h4 class=CHeading>To add a new condition for popupmenu items</h4><blockquote><pre>&lt;condition name=&quot;condition1&quot;&gt;&lt;![CDATA[
  function (editor, cell, evt)
  {
    return cell != null;
  }
]]&gt;&lt;/condition&gt;</pre></blockquote><h4 class=CHeading>The new condition can then be used in any item as follows</h4><blockquote><pre>&lt;add as=&quot;action1&quot; action=&quot;action1&quot; icon=&quot;action1.gif&quot; if=&quot;condition1&quot;/&gt;</pre></blockquote><p>The order in which the items and conditions appear is not significant as all connditions are evaluated before any items are created.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>editor</td><td class=CDLDescription>Enclosing <a href="mxEditor-js.html#mxEditor" class=LFunction id=link12 onMouseOver="ShowTip(event, 'tt4', 'link12')" onMouseOut="HideTip('tt4')">mxEditor</a> instance.</td></tr><tr><td class=CDLEntry>menu</td><td class=CDLDescription><a href="../handler/mxPanningHandler-js.html#mxPanningHandler" class=LFunction id=link13 onMouseOver="ShowTip(event, 'tt8', 'link13')" onMouseOut="HideTip('tt8')">mxPanningHandler</a> that is used for adding items and separators.</td></tr><tr><td class=CDLEntry>cell</td><td class=CDLDescription>Optional <a href="../model/mxCell-js.html#mxCell" class=LFunction id=link14 onMouseOver="ShowTip(event, 'tt9', 'link14')" onMouseOut="HideTip('tt9')">mxCell</a> which is under the mousepointer.</td></tr><tr><td class=CDLEntry>evt</td><td class=CDLDescription>Optional mouse event which triggered the menu.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="addItems"></a>addItems</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>mxDefaultPopupMenu.prototype.addItems = function(</td><td class=PParameter nowrap>editor,</td></tr><tr><td></td><td class=PParameter nowrap>menu,</td></tr><tr><td></td><td class=PParameter nowrap>cell,</td></tr><tr><td></td><td class=PParameter nowrap>evt,</td></tr><tr><td></td><td class=PParameter nowrap>conditions,</td></tr><tr><td></td><td class=PParameter nowrap>item,</td></tr><tr><td></td><td class=PParameter nowrap>parent</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Recursively adds the given items and all of its children into the given menu.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>editor</td><td class=CDLDescription>Enclosing <a href="mxEditor-js.html#mxEditor" class=LFunction id=link15 onMouseOver="ShowTip(event, 'tt4', 'link15')" onMouseOut="HideTip('tt4')">mxEditor</a> instance.</td></tr><tr><td class=CDLEntry>menu</td><td class=CDLDescription><a href="../handler/mxPanningHandler-js.html#mxPanningHandler" class=LFunction id=link16 onMouseOver="ShowTip(event, 'tt8', 'link16')" onMouseOut="HideTip('tt8')">mxPanningHandler</a> that is used for adding items and separators.</td></tr><tr><td class=CDLEntry>cell</td><td class=CDLDescription>Optional <a href="../model/mxCell-js.html#mxCell" class=LFunction id=link17 onMouseOver="ShowTip(event, 'tt9', 'link17')" onMouseOut="HideTip('tt9')">mxCell</a> which is under the mousepointer.</td></tr><tr><td class=CDLEntry>evt</td><td class=CDLDescription>Optional mouse event which triggered the menu.</td></tr><tr><td class=CDLEntry>conditions</td><td class=CDLDescription>Array of names boolean conditions.</td></tr><tr><td class=CDLEntry>item</td><td class=CDLDescription>XML node that represents the current menu item.</td></tr><tr><td class=CDLEntry>parent</td><td class=CDLDescription>DOM node that represents the parent menu item.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="addAction"></a>addAction</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>mxDefaultPopupMenu.prototype.addAction = function(</td><td class=PParameter nowrap>menu,</td></tr><tr><td></td><td class=PParameter nowrap>editor,</td></tr><tr><td></td><td class=PParameter nowrap>lab,</td></tr><tr><td></td><td class=PParameter nowrap>icon,</td></tr><tr><td></td><td class=PParameter nowrap>funct,</td></tr><tr><td></td><td class=PParameter nowrap>action,</td></tr><tr><td></td><td class=PParameter nowrap>cell,</td></tr><tr><td></td><td class=PParameter nowrap>parent</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Helper method to bind an action to a new menu item.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>menu</td><td class=CDLDescription><a href="../handler/mxPanningHandler-js.html#mxPanningHandler" class=LFunction id=link18 onMouseOver="ShowTip(event, 'tt8', 'link18')" onMouseOut="HideTip('tt8')">mxPanningHandler</a> that is used for adding items and separators.</td></tr><tr><td class=CDLEntry>editor</td><td class=CDLDescription>Enclosing <a href="mxEditor-js.html#mxEditor" class=LFunction id=link19 onMouseOver="ShowTip(event, 'tt4', 'link19')" onMouseOut="HideTip('tt4')">mxEditor</a> instance.</td></tr><tr><td class=CDLEntry>lab</td><td class=CDLDescription>String that represents the label of the menu item.</td></tr><tr><td class=CDLEntry>icon</td><td class=CDLDescription>Optional URL that represents the icon of the menu item.</td></tr><tr><td class=CDLEntry>action</td><td class=CDLDescription>Optional name of the action to execute in the given editor.</td></tr><tr><td class=CDLEntry>funct</td><td class=CDLDescription>Optional function to execute before the optional action.</td></tr><tr><td class=CDLEntry>cell</td><td class=CDLDescription>Optional <a href="../model/mxCell-js.html#mxCell" class=LFunction id=link20 onMouseOver="ShowTip(event, 'tt9', 'link20')" onMouseOut="HideTip('tt9')">mxCell</a> to use as an argument for the action.</td></tr><tr><td class=CDLEntry>parent</td><td class=CDLDescription>DOM node that represents the parent menu item.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="createConditions"></a>createConditions</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>mxDefaultPopupMenu.prototype.createConditions = function(</td><td class=PParameter nowrap>editor,</td></tr><tr><td></td><td class=PParameter nowrap>cell,</td></tr><tr><td></td><td class=PParameter nowrap>evt</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Evaluates the default conditions for the given context.</p></div></div></div>

</div><!--Content-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function mxDefaultPopupMenu(</td><td class=PParameter nowrap>config</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Constructs a new popupmenu-factory based on given configuration.</div></div><div class=CToolTip id="tt2"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>mxDefaultPopupMenu.prototype.config</td></tr></table></blockquote>XML node used as the description of new menu items. </div></div><div class=CToolTip id="tt3"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>mxDefaultPopupMenu.prototype.createMenu = function(</td><td class=PParameter nowrap>editor,</td></tr><tr><td></td><td class=PParameter nowrap>menu,</td></tr><tr><td></td><td class=PParameter nowrap>cell,</td></tr><tr><td></td><td class=PParameter nowrap>evt</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>This function is called from mxEditor to add items to the given menu based on config. </div></div><div class=CToolTip id="tt4"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function mxEditor(</td><td class=PParameter nowrap>config</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Constructs a new editor. </div></div><div class=CToolTip id="tt5"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>mxDefaultPopupMenu.prototype.addItems = function(</td><td class=PParameter nowrap>editor,</td></tr><tr><td></td><td class=PParameter nowrap>menu,</td></tr><tr><td></td><td class=PParameter nowrap>cell,</td></tr><tr><td></td><td class=PParameter nowrap>evt,</td></tr><tr><td></td><td class=PParameter nowrap>conditions,</td></tr><tr><td></td><td class=PParameter nowrap>item,</td></tr><tr><td></td><td class=PParameter nowrap>parent</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Recursively adds the given items and all of its children into the given menu.</div></div><div class=CToolTip id="tt6"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>mxDefaultPopupMenu.prototype.addAction = function(</td><td class=PParameter nowrap>menu,</td></tr><tr><td></td><td class=PParameter nowrap>editor,</td></tr><tr><td></td><td class=PParameter nowrap>lab,</td></tr><tr><td></td><td class=PParameter nowrap>icon,</td></tr><tr><td></td><td class=PParameter nowrap>funct,</td></tr><tr><td></td><td class=PParameter nowrap>action,</td></tr><tr><td></td><td class=PParameter nowrap>cell,</td></tr><tr><td></td><td class=PParameter nowrap>parent</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Helper method to bind an action to a new menu item.</div></div><div class=CToolTip id="tt7"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>mxDefaultPopupMenu.prototype.createConditions = function(</td><td class=PParameter nowrap>editor,</td></tr><tr><td></td><td class=PParameter nowrap>cell,</td></tr><tr><td></td><td class=PParameter nowrap>evt</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Evaluates the default conditions for the given context.</div></div><div class=CToolTip id="tt8"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function mxPanningHandler(</td><td class=PParameter nowrap>graph,</td></tr><tr><td></td><td class=PParameter nowrap>factoryMethod</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Constructs an event handler that creates a mxPopupMenu and pans the graph.</div></div><div class=CToolTip id="tt9"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function mxCell(</td><td class=PParameter nowrap>value,</td></tr><tr><td></td><td class=PParameter nowrap>geometry,</td></tr><tr><td></td><td class=PParameter nowrap>style</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Constructs a new cell to be used in a graph model. </div></div><!--END_ND_TOOLTIPS-->

<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>